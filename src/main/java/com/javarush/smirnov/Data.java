package com.javarush.smirnov;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class Data {
    private static final Map<Integer, Scene> map = new HashMap<>();
    static {
        initialize();
    }

    private static void initialize(){
        map.put(1, new Scene(1, "Вы стоите перед мрачным фасадом усадьбы. Входная дверь заперта. Справа от неё выбито окно в подвал, но из темноты оттуда доносится настойчивый шелест, будто кто-то перебирает бумаги. Ваша тень на стене тянется к окну, словно манит туда.",
                List.of(new Option(2, "Разбить окно и спуститься в подвал."),
                        new Option(3, "Обойти усадьбу и поискать другой вход на верхний этаж."))));
        map.put(2, new Scene(2, "Вы спускаетесь в пыльный подвал, полный ящиков и паутины. Шелест прекращается. Внезапно ваша тень на стене оживает, хватает призрачной рукой паутину, и она с грохотом обрушивается на вас вместе с тяжёлыми полками. Вы пытаетесь выбраться, но тень душит вас, нашептывая: «Зря ты пришёл сюда...\n Вы попали в очевидную ловушку, куда вас вела сама тень. Доверять ей — была ваша первая и последняя ошибка.",
                "lose"));
        map.put(3, new Scene(3, "Обойдя усадьбу, вы находите заднюю дверь, приоткрытую каменным обломком. Внутри — кухня, заваленная сгнившими припасами. Лестница наверх ведёт в кабинет. Именно там, судя по всему, Альбас вёл свои исследования. Войдя, вы видите на столе его дневник, открытый на странице с рисунком «Последнего Шепота».\n На столе рядом с дневником лежит странный прибор из бронзовых шестерёнок и линз — «Диффузор Тени», как подписано под его схемой в книге. На полу в углу комнаты стоит массивный сундук, запертый на висячий замок.",
                List.of(new Option(4, "Внимательно изучить дневник, чтобы найти способ уничтожить свиток."),
                        new Option(5, "Взять Диффузор и попробовать его активировать — вдруг он усмирит тень сейчас?"))));
        map.put(4, new Scene(4, "Вы находите в дневнике рецепт обряда «Молчаливое Пламя». Чтобы уничтожить «Последний Шепот», нужно сжечь его в пламени особой черной свечи, которую Альбас, судя по записи, хранил в своей молельне в большом зале. Вы забираете свечу и направляетесь туда. \n Большой зал погружён во тьму. В центре на алтаре лежит тот самый свиток. Но между вами и алтарём, спиной к вам, стоит высокая фигура в чёрном плаще с капюшоном. Вы не видите его лица — только бледные, почти бескровные кисти рук. Это Безликий, служитель сущности, что вселилась в вашу тень. Он проводит ладонью над свитком, и тот излучает зловещее сияние. Ваша тень на стене тянется к нему, словно в поклоне.",
                List.of(new Option(6, "Использовать свечу как оружие. Броситься на Безликого и попытаться поджечь его плащ."),
                        new Option(7, "Спрятаться в нише за тяжёлым занавесом, дождаться, пока он отойдёт, и быстро совершить обряд."))));
        map.put(5, new Scene(5, "Вы направляете прибор на свою тень. Раздаётся оглушительный треск, и тень на мгновение замирает, а затем с рёвом набрасывается на вас с удвоенной силой. Диффузор был не стабилизатором, а усилителем, и в руках непосвящённого он только подпитывает проклятие. \n Ваша поспешность и жажда быстрого решения погубили вас. Магия не прощает дилетантства.",
                "lose"));
        map.put(6, new Scene(6, "Вы совершаете рывок, но Безликий поворачивается с неестественной скоростью. Его лица под капюшоном действительно нет — только бледная гладкая кожа. Ваша тень обвивается вокруг ваших ног, и вы падаете. «Глупец, — раздаётся беззвучный голос в вашей голове, — ты принёс мне последнюю часть ритуала». Свеча выпадает из ваших рук и гаснет. \n Прямая конфронтация с существом, черпающим силы из вашей же тени, была безумием. Вы стали жертвой собственной отчаянной храбрости.",
                "lose"));
        map.put(7, new Scene(7, "Вы замираете в укрытии. Безликий заканчивает свой ритуал и скрывается в боковом проходе. Вы выскальзываете к алтарю, зажигаете свечу и подносите её к свитку. «Последний Шепот» вспыхивает зелёным пламенем. Вы слышите оглушительный крик — он исходит от вашей тени. Пламя свечи становится белым, и свиток обращается в пепел. Тень замирает и медленно возвращается к вашим ногам, приняв нормальную форму. Проклятие снято. Вы победили. \n Тишина, наступившая после уничтожения свитка, кажется звенящей. Воздух больше не колет кожу. Пепел на алтаре дымится, и это — дым окончательной победы. Из бокового прохода, где скрылся Безликий, доносится слабый, затухающий стон. В дневнике Альбаса были намёки на то, что за сущностью стоит нечто большее — целый культ. Что вы сделаете теперь, когда свободны?",
                List.of(new Option(8, "Немедленно уйти. Вы свободны, и это главное. Не стоит искушать судьбу."),
                        new Option(9, "Исследовать проход. Нужно узнать больше о Безликом и его «госпоже», чтобы обезопасить себя в будущем."),
                        new Option(10, "Сжечь усадьбу. Нужно уничтожить это проклятое место."),
                        new Option(11, "Вернуться в кабинет Альбаса. Изучить его чертежи «Диффузора Тени» — возможно, эту технологию можно усовершенствовать и обратить себе на пользу."))));
        map.put(8, new Scene(8, "Вы покидаете усадьбу, вдыхая воздух свободы. Вы исправили свою ошибку и выжили. Логан снова стал призраком в ночи, но на этот раз он научился бояться не стражей и замков, а древнего шепота из мира теней. Вы выжили, но тайна культа осталась нераскрытой. \n Вы живы и свободны. Иногда лучшее решение — вовремя остановиться.", "win"));
        map.put(9, new Scene(9, "Вы осторожно спускаетесь по каменным ступеням в склеп. Внутри вы находите Безликого — он лежит бездыханный, его форма распадается. Но на столе перед ним лежит карта с отмеченными другими усадьбами и именами. Вы не просто сбежали, вы добыли ценнейшую информацию. Теперь у вас есть цель: найти других и положить конец этой угрозе. \n Вы не только сняли проклятие, но и нанесли удар по настоящему источнику зла. Ваша новая миссия только начинается...", "win"));
        map.put(10, new Scene(10, "Вы находите в подсобке канистру с маслом и обливайте ею стены кабинета и зала. От брошенной свечи пламя с ревом взмывает к потолку. Вы спешите к выходу, но в дверном проёме перед вами возникает ваша тень — огромная и незыблемая, как сама тьма. Она не шепчет, а изрекает громовым голосом: «Ты сжёг моё святилище. Стань его частью». Забытые заклинания Альбаса, вплетённые в саму структуру дома, пробуждаются в огне. Каменные балки с грохотом обрушиваются, погребая вас под горящими обломками. Ваш последний взгляд — на неподвижную тень, спокойно наблюдающую за вашей гибелью из самого сердца пламени. \n Вы недооценили природу этого дома. Это была не просто постройка, а живое тело древней магии, которую нельзя уничтожить так просто.", "lose"));
        map.put(11, new Scene(11, "Вернувшись в кабинет, вы с новым интересом листаете дневник Альбаса. Мимо вас сначала пролетела запись о «Диффузоре», но сейчас вы находите куда более intriguing страницы. Это черновики, озаглавленные «О подчинении Воплощенного Мрака». Учёный предполагал, что тенью можно не просто управлять, а слиться с ней, переняв её силу и бессмертие. Эйфория от недавней победы затмевает разум. «Почему бы и нет? — думаете вы. — Я смог её победить. Значит, я достаточно силён, чтобы подчинить». Вы проводите импровизированный ритуал по чертежам Альбаса. В последний миг вы понимаете его роковую ошибку: он изучал тень со стороны. Вы же связаны с ней напрямую. Ритуал работает с чудовищной силой, но не подчиняет тень вам, а стирает границу между вами. Ваше сознание, ваше «Я», проваливается в темноту, как камень в колодец. А на поверхность всплывает оно — ваша тень, теперь облачённая в вашу плоть, с вашими воспоминаниями и вашим лицом. Оно улыбается вашему отражению в стекле окуляра, а вы, настоящее вы, можете лишь бесконечно падать в глубинах собственного разума, обречённые на вечное молчание. \n Вы не смогли устоять перед искушением обрести могущество. Победив проклятие, вы сами стали его носителем, позволив тени занять место у руля. Ваше тело теперь — всего лишь кукла в руках вашего самого тёмного отражения.", "lose"));
    }

    public static Scene get(int id) {
        return map.get(id);
    }
}
